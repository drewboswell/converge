dist: xenial
language: python
sudo: required
addons:
  sonarqube:
    token:
      secure: "23adb805621bc47d08295f58b1364b1509d6814d"
jdk:
  - oraclejdk8
python:
  - "3.3"
  - "3.4"
  - "3.5"
  - "3.5-dev" # 3.5 development branch
  - "3.6-dev" # 3.6 development branch
# command to install dependencies
install:
 - "sudo apt-get install pandoc -y"
 - "pip install -r requirements.txt"
 - "pip install coverage"
 - "pip install coveralls"
# command to run tests
script:
 - coverage run --source pyconverge setup.py test
 - coverage xml -i
 - sonar-scanner
after_success:
 - coveralls
cache:
  directories:
    - '$HOME/.sonar/cache'
